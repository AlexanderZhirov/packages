name       : ghostty
version    : 1.0.1
release    : 3
source     :
    - https://github.com/ghostty-org/ghostty/archive/refs/tags/v1.0.1.tar.gz : 4e4d9725ef2e50715492df26265e275417acca0db374f6d21740b848c77d6189
homepage   : https://ghostty.org/
license    : MIT
component  : system.utils
summary    : A fast, feature-rich, and cross-platform terminal emulator that uses platform-native UI and GPU acceleration.
description: |
    Ghostty is a terminal emulator that differentiates itself by being fast, feature-rich, and native. While there are many excellent terminal emulators available, they all force you to choose between speed, features, or native UIs. Ghostty provides all three.
networking : yes
builddeps  :
    - pkgconfig(libadwaita-1)
    - zig
build      : |
    mkdir build
    zig build \
        --prefix ./build \
        -Doptimize=ReleaseFast \
        -Dcpu=baseline
install    : |
    install -dDm00755 $installdir/usr/
    mv $workdir/build/* $installdir/usr/

    install -dm00755 $installdir/usr/share/xdg-terminals
    ln -srv $installdir/usr/share/applications/com.mitchellh.ghostty.desktop $installdir/usr/share/xdg-terminals/com.mitchellh.ghostty.desktop

    # File conflict with ncurses
    rm -rfv $installdir/usr/share/terminfo
